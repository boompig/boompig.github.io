import{B as e,C as t,D as n,E as r,F as i,I as a,K as o,L as s,M as c,Q as l,R as u,S as d,T as f,V as p,X as m,Z as h,_ as g,b as _,d as v,f as y,h as b,i as x,j as S,l as C,m as w,p as T,q as E,u as D,w as O,x as k,y as A,z as j}from"../chunks/DBPBGYYQ.js";import"../chunks/DJBcNWQg.js";function M(e,t){let n=x(t,`variant`,3,`primary`),r=x(t,`size`,3,`medium`),i=x(t,`disabled`,3,!1),a=x(t,`href`,3,void 0),o=x(t,`type`,3,`button`),c=x(t,`onclick`,3,void 0),u=a()?`a`:`button`;var f=d();b(s(f),()=>u,!1,(e,u)=>{D(e,()=>({href:a(),disabled:i(),type:o(),class:`btn btn-${n()??``} btn-${r()??``}`,onclick:c()}),void 0,void 0,void 0,`svelte-118lylz`);var f=d();g(s(f),()=>t.children??l),k(u,f)}),k(e,f)}var N=t(`<label class="input-label svelte-1tqly6n"> </label>`),P=t(`<span class="error-message svelte-1tqly6n"> </span>`),F=t(`<!> <div><input class="svelte-1tqly6n"/></div> <!>`,1);function I(t,i){E(i,!0);let l=x(i,`type`,3,`text`),d=x(i,`placeholder`,3,``),f=x(i,`value`,15,``),p=x(i,`disabled`,3,!1),m=x(i,`required`,3,!1),g=x(i,`id`,3,``),b=x(i,`name`,3,``),S=x(i,`variant`,3,`default`),w=x(i,`size`,3,`medium`),D=x(i,`label`,3,``),O=x(i,`error`,3,``),M=e(!1);var I=F(),L=s(I),R=e=>{var t=N(),n=a(t,!0);h(t),c(()=>{y(t,`for`,g()),_(n,D())}),k(e,t)};A(L,e=>{D()&&e(R)});var z=u(L,2);let B;var V=a(z);v(V),V.__input=function(...e){i.oninput?.apply(this,e)},V.__change=function(...e){i.onchange?.apply(this,e)},V.__keydown=function(...e){i.onkeydown?.apply(this,e)},h(z);var H=u(z,2),U=e=>{var t=P(),n=a(t,!0);h(t),c(()=>_(n,O())),k(e,t)};A(H,e=>{O()&&e(U)}),c(()=>{B=T(z,1,`input-wrapper input-${S()??``} input-${w()??``}`,`svelte-1tqly6n`,B,{focused:n(M),error:O()}),y(V,`type`,l()),y(V,`placeholder`,d()),V.disabled=p(),V.required=m(),y(V,`id`,g()),y(V,`name`,b())}),r(`focus`,V,()=>j(M,!0)),r(`blur`,V,()=>j(M,!1)),C(V,f),k(t,I),o()}f([`input`,`change`,`keydown`]);var L=t(`<div class="result-section svelte-ea1rij"><h3 class="svelte-ea1rij">Encryption Result</h3> <pre class="encrypted-output svelte-ea1rij"> </pre></div>`);function R(e,t){let n=x(t,`result`,3,``);var r=d(),i=s(r),o=e=>{var t=L(),r=u(a(t),2),i=a(r,!0);h(r),h(t),c(()=>_(i,n())),k(e,t)};A(i,e=>{n()&&e(o)}),k(e,r)}var z=t(`<div class="decrypted-result svelte-1l8ukcd"><h3 class="svelte-1l8ukcd">Decrypted Name</h3> <div class="name-output svelte-1l8ukcd"> </div></div>`),B=t(`<h1>Secret Santa 2025</h1> <p>This page decrypts the secret santa pairings.</p> <section class="encrypt-section svelte-1l8ukcd"><h2 class="svelte-1l8ukcd">Encrypt Name</h2> <form class="svelte-1l8ukcd"><!> <!></form> <!></section> <section class="decrypt-section svelte-1l8ukcd"><h2 class="svelte-1l8ukcd">Decrypt Name</h2> <form class="svelte-1l8ukcd"><!> <!> <!> <!></form> <!></section>`,1);function V(t,l){E(l,!0);let d=e(``),f=e(``),g=e(!1),v=e(``),y=e(``),b=e(``),x=e(``),C=e(``),T=e(!1),D=e(``);async function N(){return await crypto.subtle.generateKey({name:`AES-GCM`,length:128},!0,[`encrypt`,`decrypt`])}function P(e){return new TextEncoder().encode(e)}function F(e){return Array.from(new Uint8Array(e)).map(e=>e.toString(16).padStart(2,`0`)).join(``)}async function L(){if(!n(d).trim()){j(v,`Please enter a name to encrypt`);return}try{j(g,!0),j(v,``);let e=await N(),t=crypto.getRandomValues(new Uint8Array(12)),r=await crypto.subtle.encrypt({name:`AES-GCM`,iv:t},e,P(n(d))),i=await crypto.subtle.exportKey(`raw`,e);j(f,JSON.stringify({encrypted:F(r),key:F(i),iv:F(t)},null,2),!0)}catch(e){j(v,`Encryption failed: ${e instanceof Error?e.message:String(e)}`),j(f,``)}finally{j(g,!1)}}function V(e){let t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)t[n/2]=parseInt(e.substr(n,2),16);return t.buffer}function H(e){return new TextDecoder().decode(e)}async function U(){if(!n(y).trim()||!n(b).trim()||!n(x).trim()){j(D,`Please fill in all decryption fields`);return}try{j(T,!0),j(D,``);let e=V(n(b)),t=V(n(y)),r=V(n(x)),i=await crypto.subtle.importKey(`raw`,e,{name:`AES-GCM`},!1,[`decrypt`]);j(C,H(await crypto.subtle.decrypt({name:`AES-GCM`,iv:r},i,t)),!0)}catch(e){j(D,`Decryption failed: ${e instanceof Error?e.message:String(e)}`),j(C,``)}finally{j(T,!1)}}function W(e){e.preventDefault(),L()}function ee(e){e.preventDefault(),U()}var G=B();w(`1l8ukcd`,e=>{S(()=>{i.title=`Secret Santa 2025 | kats.coffee`})});var K=u(s(G),4),q=u(a(K),2),J=a(q);I(J,{placeholder:`Enter your name`,required:!0,get error(){return n(v)},get value(){return n(d)},set value(e){j(d,e,!0)}});var te=u(J,2);{let e=p(()=>n(g)||!n(d).trim());M(te,{type:`submit`,variant:`primary`,get disabled(){return n(e)},children:(e,t)=>{m();var r=O();c(()=>_(r,n(g)?`Encrypting...`:`Encrypt`)),k(e,r)},$$slots:{default:!0}})}h(q),R(u(q,2),{get result(){return n(f)}}),h(K);var Y=u(K,2),X=u(a(Y),2),Z=a(X);I(Z,{placeholder:`Enter encrypted text (hex)`,required:!0,get error(){return n(D)},get value(){return n(y)},set value(e){j(y,e,!0)}});var Q=u(Z,2);I(Q,{placeholder:`Enter key (hex)`,required:!0,get value(){return n(b)},set value(e){j(b,e,!0)}});var $=u(Q,2);I($,{placeholder:`Enter IV (hex)`,required:!0,get value(){return n(x)},set value(e){j(x,e,!0)}});var ne=u($,2);{let e=p(()=>n(T)||!n(y).trim()||!n(b).trim()||!n(x).trim());M(ne,{type:`submit`,variant:`secondary`,get disabled(){return n(e)},children:(e,t)=>{m();var r=O();c(()=>_(r,n(T)?`Decrypting...`:`Decrypt`)),k(e,r)},$$slots:{default:!0}})}h(X);var re=u(X,2),ie=e=>{var t=z(),r=u(a(t),2),i=a(r,!0);h(r),h(t),c(()=>_(i,n(C))),k(e,t)};A(re,e=>{n(C)&&e(ie)}),h(Y),r(`submit`,q,W),r(`submit`,X,ee),k(t,G),o()}export{V as component};